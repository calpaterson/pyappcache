[tox]
skipsdist = True
envlist = py35, py36, py37, py38

[gh-actions]
python =
    3.5: py35
    3.6: py36
    3.7: py37
    3.8: py38

[testenv]
commands =
         pip install -e .[tests,dev]
         mypy .
         pytest --cov=pyappcache --cov-fail-under 100
         black --check .
         flake8 .
         python setup.py bdist_wheel

[testenv:py35]
# Black doesn't support Python 3.5
commands =
         pip install -e .[tests,dev]
         mypy .
         pytest --cov=pyappcache --cov-fail-under 100
         flake8 .
         python setup.py bdist_wheel

[flake8]
max-line-length = 88